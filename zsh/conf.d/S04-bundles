#!/bin/zsh

function log-zplug() {
    zplug "$@"
    logTime "did zplug $@"
}

# zsh plugins
log-zplug "zsh-users/zsh-syntax-highlighting"
log-zplug "zsh-users/zsh-history-substring-search"

# python stuff
log-zplug plugins/pip, from:oh-my-zsh, if:"which pip"
log-zplug plugins/django, from:oh-my-zsh

# general stuff
log-zplug plugins/brew, from:oh-my-zsh
log-zplug plugins/vagrant, from:oh-my-zsh

if ! log-zplug check; then
    log-zplug install
fi

# source and add to the PATH
log-zplug load

function zplug-selfupdate {
    curl https://raw.githubusercontent.com/b4b4r07/zplug/master/zplug > $HOME/.zsh/conf.d/S02-zplug
    source $HOME/.zsh/conf.d/S02-zplug
    source $HOME/.zsh/conf.d/S04-bundles
    zplug clear
    zplug clean
    zplug install --verbose
    zplug load --verbose
    zplug update --verbose
}
